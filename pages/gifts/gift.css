/* ===== Gift page — тема/переменные ===== */
.gift-page{
  --w: min(520px, 92vw);

  /* поля (совместимо с buy-страницей) */
  --fields-gap: 12px;
  --field-bg: #fff;
  --field-text: #000;
  --field-ph: #9aa0a6;
  --field-brd: #d9dbe0;
  --field-radius: 30px;
  --field-focus-brd: #030056;
  --field-focus-glow: rgba(255,255,255,.2);

  /* вспомогательные блоки */
  --hint-bg: rgba(255,255,255,.06);
  --warn-bg: rgba(255,80,80,.12);
  --warn-brd: rgba(255,80,80,.35);
  --info-bg: rgba(255,255,255,.06);

  margin: 0 auto;
  max-width: var(--w);
  color: var(--text);
}

/* ===== Верхняя планка (стрелка + заголовок) ===== */
.page-topbar{
  display:flex; align-items:center; gap:10px;
  margin: 30px 4px 20px;
}
.back-hat{
  width:36px; height:36px; border-radius:10px; border:1px solid var(--card-brd);
  background: rgba(255,255,255,.06); position:relative; cursor:pointer;
}
.back-hat::before{
  content:""; position:absolute; left:55%; top:50%;
  width:12px; height:12px; transform:translate(-50%,-50%) rotate(-45deg);
  border-left:2px solid #cfd6e6; border-top:2px solid #cfd6e6;
}
.page-title{ font: 800 35px/1 var(--font-accent); letter-spacing:.2px; }
.page-spacer{ margin-left:auto }

/* ===== HERO подарка ===== */
.gift-hero{ display:flex; flex-direction:column; align-items:center; gap:10px; }
.gift-pill{
  display:inline-block; padding:6px 12px; border-radius:18px;
  background: rgba(255,255,255,.08);
  border:1px solid var(--card-brd); color:#fff; font-weight:700; letter-spacing:.2px;
}
.gift-hero-card{
  width:80%; background: rgba(255,255,255,.06); border:1px solid var(--card-brd);
  border-radius:24px; padding:20px 16px; text-align:center; box-shadow: var(--shadow);
}
.gift-hero-img-wrap{
  width:100%; min-height:120px;
  display:flex; align-items:center; justify-content:center;
}
.gift-hero-img{
  width: min(120px, 70%); height:auto; object-fit:contain;
  display:block; image-rendering:auto; -webkit-user-drag:none;
}
.gift-hero-caption{ margin-top:10px; font-size:16px; font-weight: 700; }
.gift-hero-caption .muted{ margin-right:6px; color:#fff; }
.gift-hero-text{ margin-top:8px; font-size:14px; }
.muted{ color: var(--muted); }
.ghost-btn{
  margin:12px auto 0; padding:8px 14px; border-radius:999px;
  background: transparent; border:1px solid var(--card-brd); color:#fff; cursor:pointer;
}

/* ===== поля и заголовки блоков ===== */
.field-head{
  max-width:500px; margin: 20px auto 6px;
  display:flex; align-items:center; justify-content:space-between;
  padding: 0 4px;
}
.field-title{ font: 700 18px/1 var(--font-ui); color:#fff; opacity:.9; }
.text-link{
  appearance:none; border:0; background:transparent; padding:4px 6px;
  font: 600 14px/1 var(--font-ui); color:#cfe0ff; cursor:pointer; border-radius:8px;
}
.text-link:active{ transform:translateY(1px) }

.stars-username-container{ position:relative; max-width:500px; margin:0 auto var(--fields-gap); }
.stars-username-input{
  width:100%; height:42px; padding-left:50px; padding-right:14px;
  font-size:13px; letter-spacing:1.05px; color: var(--field-text);
  background: var(--field-bg); border:1px solid var(--field-brd); border-radius: var(--field-radius);
  transition: border-color .2s, box-shadow .2s;
}
.stars-username-logo{ position:absolute; left:20px; top:50%; transform:translateY(-50%); width:20px; height:20px; }
.stars-username-input:focus,
.stars-username-input:focus-visible{
  outline:none; border-color: var(--field-focus-brd); box-shadow: 0 0 8px var(--field-focus-glow);
}

/* ввод с счётчиком */
.input-with-counter{ position:relative; max-width:500px; margin:0 auto var(--fields-gap); }
.textarea-with-counter{ position:relative; max-width:500px; margin:0 auto var(--fields-gap); }
.char-counter{
  position:absolute; right:12px; top:50%; transform:translateY(-50%);
  font: 600 12px/1 var(--font-ui); color: var(--muted); pointer-events:none;
}
.textarea-with-counter .char-counter{
  top:auto; bottom:8px; transform:none;
}
.stars-textarea{
  width:100%; padding:10px 40px 26px 12px; font: 500 16px/1.35 var(--font-ui);
  color: var(--field-text); background: var(--field-bg);
  border:1px solid var(--field-brd); border-radius:16px; resize:vertical; min-height:90px;
}
.stars-textarea:focus{ outline:none; border-color: var(--field-focus-brd); box-shadow: 0 0 8px var(--field-focus-glow); }

.toggle-line{ max-width:100%; margin: 16px auto; }
.toggle-btn{
  width:100%; padding:10px 14px; border-radius:22px; background:transparent;
  border:1px solid #fff; color:#fff; cursor:pointer;
}
.optional-block{ margin-top:8px; }

/* инфо-блоки */
.hint-box{
  max-width:520px; margin: 8px auto 0; padding:10px 12px;
  background: var(--hint-bg); border:1px solid var(--card-brd); border-radius:12px; color: var(--muted); font-size:14px;
}
.warn-box{
  max-width:520px; margin: 10px auto 0; padding:12px 12px;
  background: var(--warn-bg); border:1px solid var(--warn-brd); border-radius:12px; color:#ffdede; font-size:15px;
}
.warn-title{ font-weight:800; margin-bottom:2px; }
.info-box{
  max-width:520px; margin: 8px auto 0; padding:10px 12px;
  background: var(--info-bg); border:1px solid var(--card-brd); border-radius:12px; color: var(--muted); font-size:15px;
}

/* Итого и оплата (иконки справа от текста) */
.stars-total-line{ max-width:500px; margin:16px auto 0; display:flex; flex-direction:column; align-items:center; }
.stars-total-label{ font-size:14px; color:#fff; opacity:.8; }
.stars-total-input{
  width:100%; background:transparent; color:#fff; font-size:20px; text-align:center;
  border:none; border-bottom:1px solid #fff; padding:10px 8px 8px; outline:none; caret-color:transparent; user-select:none;
}

.gift-pay{ max-width:500px; margin:18px auto 0; display:grid; grid-template-columns:1fr; gap:10px; }
.gift-pay .stars-btn{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--card-brd);
  background:rgba(255,255,255,.9); color:#0b0e1b; font-weight:400; cursor:pointer;
  display:flex; align-items:center; justify-content:center; gap:20px;
}
.gift-pay .btn-ic{ width:20px; height:20px; display:inline-grid; place-items:center; }
.gift-pay .btn-ic img{ width:100%; height:100%; object-fit:contain; display:block; }

/* Легал как на buy */
.buy-legal-box{
  margin: 10px auto 0; padding:10px 12px; max-width:520px;
  background: rgba(255,255,255,.06); border:1px solid var(--card-brd); border-radius:12px;
}
.buy-legal{ margin:0; color: var(--muted); font-size:12px; text-align:center; }
.buy-legal a{ color: inherit; text-decoration: underline; text-underline-offset:2px; }

/* Gift item — фиксим перенос длинных строк в превью */
.gift-hero-text{
  display:block;
  max-width: 100%;          /* чуть уже карточки, чтобы текст не лип к краям */
  margin: 8px auto 0;
  text-align:center;
  line-height: 1.35;

  white-space: normal;     /* разрешаем переносы */
  overflow-wrap: anywhere; /* переносим даже "слитные" слова */
  word-break: break-word;  /* фолбэк для старых webview */
}
