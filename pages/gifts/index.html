<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Telegram-подарки — StarsBox</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <!-- Общие стили мини-аппа -->
  <link rel="stylesheet" href="../../styles.css" />
  <!-- Стили страницы Подарков -->
  <link rel="stylesheet" href="./styles-gifts.css" />
</head>
<body>
  <!-- Шапка как на главной -->
  <header class="app-header">
    <div class="avatar">SB</div>
    <div class="account">
      <div class="title">StarsBox | Main account</div>
      <div class="subtitle">@main_starsbox</div>
    </div>
    <button class="icon-btn has-icon" data-action="settings" aria-label="Настройки"></button>
  </header>

  <main class="content">
    <section class="gifts-page">

      <!-- Верхняя панель: назад + заголовок -->
      <div class="pagebar">
        <button class="back-btn" id="backBtn" aria-label="Назад" title="Назад"></button>
        <h1 class="page-title">Telegram-подарки</h1>
      </div>

      <!-- Сетка подарков -->
      <div class="gifts-grid">
        <!-- Карточка -->
        <button class="gift-card" type="button"
        data-img="../../assets/gifts/сердце.gif"
        data-price="25"
        data-title="Сердце">
  <div class="gift-media">
    <img src="../../assets/gifts/сердце.gif" alt="Сердце" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">25</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/медведь.gif"
        data-price="25"
        data-title="Медведь">
  <div class="gift-media">
    <img src="../../assets/gifts/медведь.gif" alt="Медведь" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">25</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/подарок.gif"
        data-price="41"
        data-title="Подарок">
  <div class="gift-media">
    <img src="../../assets/gifts/подарок.gif" alt="Подарок" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">41</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/роза.gif"
        data-price="41"
        data-title="Роза">
  <div class="gift-media">
    <img src="../../assets/gifts/роза.gif" alt="Роза" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">41</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/торт.gif"
        data-price="82"
        data-title="Торт">
  <div class="gift-media">
    <img src="../../assets/gifts/торт.gif" alt="Торт" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">82</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/букет.gif"
        data-price="82"
        data-title="Букет">
  <div class="gift-media">
    <img src="../../assets/gifts/букет.gif" alt="Букет" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">82</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/ракета.gif"
        data-price="82"
        data-title="Ракета">
  <div class="gift-media">
    <img src="../../assets/gifts/ракета.gif" alt="Ракета" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">82</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/бутылка.gif"
        data-price="82"
        data-title="Бутылка">
  <div class="gift-media">
    <img src="../../assets/gifts/бутылка.gif" alt="Бутылка" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">82</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/кубок.gif"
        data-price="164"
        data-title="Кубок">
  <div class="gift-media">
    <img src="../../assets/gifts/кубок.gif" alt="Кубок" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">164</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/брилиант.gif"
        data-price="164"
        data-title="Брилиант">
  <div class="gift-media">
    <img src="../../assets/gifts/брилиант.gif" alt="Брилиант" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">164</span>
  </div>
</button>

        <button class="gift-card" type="button"
        data-img="../../assets/gifts/кольцо.gif"
        data-price="164"
        data-title="Кольцо">
  <div class="gift-media">
    <img src="../../assets/gifts/кольцо.gif" alt="Кольцо" loading="lazy" decoding="async" />
  </div>
  <div class="gift-price">
    <span class="rub"></span>
    <span class="gift-price__value">164</span>
  </div>
</button>
        </a>
      </div>
    </section>
  </main>

  <!-- Нижняя навигация: «Главная» всегда активна -->
  <nav class="bottom-nav">
    <button class="nav-item is-active" data-action="tab-home" data-home="../index.html">
      <div class="nav-ic"></div><div class="nav-tx">Главная</div>
    </button>
    <button class="nav-item" data-action="tab-earn"><div class="nav-ic"></div><div class="nav-tx">Акции</div></button>
    <button class="nav-item" data-action="tab-market"><div class="nav-ic"></div><div class="nav-tx">Заработать</div></button>
    <button class="nav-item" data-action="tab-profile"><div class="nav-ic"></div><div class="nav-tx">Профиль</div></button>
  </nav>

  <script>
document.querySelectorAll('.gift-card[data-price]').forEach(c=>{
  const v=c.dataset.price; const t=c.querySelector('.gift-price__value'); if(t) t.textContent=v;
});
</script>

<script>
  document.addEventListener('click', (e) => {
    const card = e.target.closest('.gift-card');
    if (!card) return;

    const img   = encodeURIComponent(card.dataset.img || '');
    const price = encodeURIComponent(card.dataset.price || '0');
    const title = encodeURIComponent(card.dataset.title || '');

    // Переходим на универсальную страницу карточки подарка
    window.location.href = `./gift.html?img=${img}&price=${price}&title=${title}`;
  });
</script>
  <script src="./gifts.js"></script>
  <script src="../../app.js"></script>
</body>
</html>
